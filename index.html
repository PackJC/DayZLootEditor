<!DOCTYPE html>
<html lang="eng" class="bg-dark">
  <head>
    <meta charset="UTF-8">
    <link href="./node_modules/bootstrap/dist/css/bootstrap.css" rel="stylesheet" crossorigin="anonymous">
    <link href="./styles.css" rel="stylesheet">

    <nav class="navbar navbar-expand navbar-light bg-dark">
        <ul class="navbar-nav p-0">
          <li class="nav-item align-self-center p-1">
              <img src="./media/DayZLogo.png" class="img-fluid" alt="DayZ Logo"/>
          </li>
          <li class="nav-item p-3 align-self-center active">
            <button class="nav-link btn btn-warning"  onclick="activateSaveButton()" id="getFile">Import XML Files</button>
          </li>
          <li class="nav-item p-3 align-self-center">
            <a class="nav-link btn btn-warning disabled save-btn" id="saveFile">Save</a>
          </li>
          <li class="nav-item p-3 align-self-center">
            <a target="_self" class="nav-link  btn btn-warning" href="https://github.com/PackJC/DayZLootEditor/blob/main/README.md">Help</a>
          </li>
        </ul>
    </nav>
    <hr>
    <title>DayZ XML Editor</title>
  </head>
  <body class="bg-dark text-white">





  <div class="p-3" id="myPara"></div>




  </body>
  <footer class="bg-dark text-center text-warning fixed-bottom">
    <div class="text-center p-1" style="background-color: rgba(0, 0, 0, 0.2);">
      Â© 2022 PackJC Version 0.512
      <a target="_self" href="https://github.com/PackJC/DayZLootEditor/">Source Code</a>
    </div>
  </footer>
</html>

<script src="./renderer.js">

</script>
<script>

  const {ipcRenderer} = require("electron");

  document.getElementById("getFile").addEventListener("click",getFileFunction);
  document.getElementById("saveFile").addEventListener("click", saveFileFunction);

  function getFileFunction(){
    ipcRenderer.send("getFileEvent")

  }
  function saveFileFunction(){
    ipcRenderer.send("saveFileEvent")
  }

  ipcRenderer.on("receiveDataReply",(event,data)=>{
    console.log("successful file upload")
    console.log(data)

    document.getElementById("myPara").innerHTML = data;

  })

  function activateSaveButton() {
    const saveButton = document.querySelector('.save-btn');
    saveButton.classList.remove('disabled');
  }

</script>
